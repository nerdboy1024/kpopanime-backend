# Zerops configuration for K-pop Anime Shop Backend
zerops:
  - setup: api
    build:
      base: nodejs@20
      buildCommands:
        - npm ci
      deployFiles:
        - node_modules
        - config
        - middleware
        - routes
        - scripts
        - database
        - server.js
        - package.json
        - package-lock.json
        - "~"
    run:
      base: nodejs@20
      ports:
        - port: 5000
          httpSupport: true
          public: true
      envVariables:
        NODE_ENV: production
        PORT: 5000
      start: npm start
      readinessCheck:
        httpGet:
          port: 5000
          path: /api/health
